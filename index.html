---
layout: default
title: Columbus JavaScript User Group
---

{% assign event = site.categories.events.first %}
<div
  id='latest-event'
  class='jumbotron'>
  <div class='container'>
    <h1>{{ event.title }}</h1>
    <p class='lead'>{{ event.tagline }}</p>
    <p>{{ event.author }}</p>

    {{ event.content }}

    <p>
      <a
        class="btn btn-primary btn-lg"
        href="{{ event.url }}">Details</a>
    </p>
  </div>
</div>

<div class='container'>
  <h1 class='main-title'>Columbus Javascript User Group</h1>
</div> <!-- /.container -->

<ul id="calendarStuff"></ul>

<script>

  console.log('javascript works!');

  var onLoadCallback = function() {

    console.log('callback loaded');

    var ul = document.getElementById('calendarStuff');

    gapi.client.setApiKey('AIzaSyDt-Cr4OxzpnxhkIF0fyjAWqVirvbBNZt0');
    gapi.client.load('calendar', 'v3', function() {

      console.log('client loaded');

      var request = gapi.client.calendar.events.list( { calendarId: 'cbusjs@gmail.com' } );
      request.execute(function(resp) {

        console.log('request executed');

        resp.items.forEach(function(item) {
          var li = document.createElement('li');
          var start = item.start ? item.start : {};
          li.innerText = item.summary + ', ' + item.location + ' @' + start.dateTime;
          ul.appendChild(li);
        });
      });
    
    });

  };


  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/client.js?onload=onLoadCallback';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();

</script>
